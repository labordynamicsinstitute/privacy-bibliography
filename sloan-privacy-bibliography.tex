% !TeX TXS-program:bibliography = txs:///biber
% !TEX program = xelatex
% !BIB program = biblatex

\documentclass[12pt,letterpaper]{article}
% \usepackage[utf8]{inputenc}
\usepackage{etoolbox}
% % ======== SET THIS FLAG to indicate whether to use a local or remote bib file
% \newtoggle{local}
% %\togglefalse{local}
% \toggletrue{local}

\usepackage[%
plainpages,%
colorlinks,%
urlcolor=black,%
filecolor=black,%
pdfpagemode=UseOutlines,%
pdfauthor={John Abowd, Ian Schmutte, William Sexton, Lars Vilhuber},%
pdfsubject={Bibliography},%
]{hyperref}
\usepackage[style=authoryear,citestyle=authoryear,maxnames=10,backend=biber]{biblatex}

\author{John Abowd, Ian Schmutte, William Sexton, Lars Vilhuber}
\date{\today}


% \iftoggle{local}{
	\addbibresource{library.bib}
	\title{Sloan Privacy Bibliography}
% }%else
% {
% 	\addbibresource[location=remote]{https://www.ncrn.cornell.edu/wp-content/uploads/2016/10/library.bib}
% 	\title{Sloan Privacy Bibliography}
% }

\defbibfilter{papers}{
	type=article or
	type=inproceedings or
	type=conference or
	type=proceedings or
	type=incollection or 
	type=inbook
}

\defbibfilter{crossref}{
	type=book
}

\defbibfilter{extended}{
	( keyword={formal privacy} or
	keyword={economics of privacy} or
	keyword=policy or
	keyword={official statistics} or
	keyword=SDL or
	keyword={value of privacy} or
	keyword={value of data} ) and
	not keyword=background and
	not keyword=primary
}

\begin{document}
\maketitle

This bibliography is generated for the Sloan project at Cornell University's Labor Dynamics Institute. It is a curated selection of privacy-related articles. Articles are in alphabetical order of the first author's last name.
\nocite{*}
\section*{Key References}
% \printbibliography[title={Articles}]
\printbibliography[title={Background},keyword={background}]
\printbibliography[title={Formal Privacy},keyword={formal privacy},notkeyword={background},keyword={primary}]
\printbibliography[title={Economics of Privacy},keyword={economics of privacy},notkeyword={background},keyword={primary}]
\printbibliography[title={Policy},keyword={Policy},notkeyword={background},keyword={primary}]
\printbibliography[title={Official Statistics},keyword={official statistics},notkeyword={background},keyword={primary}]
\printbibliography[title={Statistical Disclosure Limitation},keyword={SDL},notkeyword={background},keyword={primary}]
\printbibliography[title={Value of Privacy},keyword={value of privacy},notkeyword={background},keyword={primary}]
\printbibliography[title={Value of Data},keyword={value of data},notkeyword={background},keyword={primary}]

\clearpage
\section*{Additional Reading}
\printbibliography[title={Formal Privacy},keyword={formal privacy},notkeyword={background},notkeyword={primary}]
\printbibliography[title={Economics of Privacy},keyword={economics of privacy},notkeyword={background},notkeyword={primary}]
\printbibliography[title={Policy},keyword={Policy},notkeyword={background},notkeyword={primary}]
\printbibliography[title={Official Statistics},keyword={official statistics},notkeyword={background},notkeyword={primary}]
\printbibliography[title={Statistical Disclosure Limitation},keyword={SDL},notkeyword={background},notkeyword={primary}]
\printbibliography[title={Value of Privacy},keyword={value of privacy},notkeyword={background},notkeyword={primary}]
\printbibliography[title={Value of Data},keyword={value of data},notkeyword={background},notkeyword={primary}]
% \printbibliography[title={Reference},keyword={reference},notkeyword={background}]
% \printbibliography[title={Extended Reference List},filter=extended]

\end{document}